{
	"scopeName": "ts.nodom",
	"injectionSelector": "L:meta.class.ts",
	"patterns": [ {
			"include": "#expression"
		},
		 {
			"include": "#return"
		},
		{
			"include": "#templateStr"
		},{
			"include": "#startTags"
		},{
			"include":"#comment"
		}
	],
	"repository": {
		"return": {
			"match": "return",
			"name": "keyword.control.flow.ts"
		},
		"templateStr":{
			"begin": "template.*=\\s*`",
			"end": "`",
			"name": "meta.embedded.*",
			"patterns": [{
				"include": "#doubleTag"
			}, {
				"include": "#text"
			}]
		},
		"expression": {
			"begin": "template.*\\{",
			"end": "\\s*\\}\\n",
			"name": "meta.embedded.*",
			"patterns": [{
				"include": "#doubleTag"
			}, {
				"include": "#text"
			}]
		},
		"attributes": {
			"match": "([\\w\\-]+)(\\s*\\=\\s*)(\\\".+?\\\"|\\'.+?\\'|\\`.+?\\`|(\\{{2}.+?\\}{2}(?!\\}))|(\\w+))|([\\w\\-\\S]+)",
			"captures": {
				"1": {
					"name": "entity.other.attribute-name.ts"
				},
				"2": {
					"name": "keyword.operator.assignment.ts"
				},
				"3": {
					"name": "punctuation.definition.string.end.ts"
				},
				"4": {
					"patterns": [{
						"include": "#text"
					}]
				},
				"5": {
					"name": "punctuation.definition.string.end.ts"
				},
				"6":{
					"name": "entity.other.attribute-name.ts"
				}
			}
		},
		"doubleTag": {
			"match": "<([^\\s>]+)((\\{{2}.+\\}{2}(?!\\})|[^>\\\"\\'\\`\\{]+|\\\".+?\\\"|\\'.+?\\'|\\`.+?\\`)*)>((\\{{2}.+\\}{2}|.+?)*)<\/(.+)>",
			"captures": {
				"1": {
					"patterns": [{
						"include": "#module"
					}]
				},
				"2": {
					"patterns": [{
						"include": "#attributes"
					}]
				},
				"4":{
					"patterns": [{
						"include": "#text"
					},{
						"include" : "#doubleTag"
					}]
				},
				"6": {
					"patterns": [{
						"include": "#module"
					}]
				}
			},
			"name":"test"
		},
		"startTags": {
			"match": "[\\s\\r\\n]<(([^>\/\\s]+)((\\{{2}.+\\}{2}(?!\\})|[^>\\{\\n]+)*)|(\/[^>\\s]*))>(\\s*)\\n",
			"captures": {
				"2": {
					"patterns": [{
						"include": "#module"
					}]
				},

				"3": {
					"patterns": [{
						"include": "#attributes"
					}]
				},
				"5": {
					"patterns": [{
						"include": "#module"
					}]
				}
			},
			"name":"st"
		},
		"module": {
			"match": "(([A-Z][^>\/\\s]+)|([^>\/\\s]+))",
			"captures": {
				"2": {
					"name": "entity.name.type.class.ts"
				},
				"3": {
					"name": "entity.name.tag.ts"
				}
			}
		},
		"text": {
			"match": "(\\w*(\\{{2})(.+?)(\\}{2}(?!\\}))\\w*|(e-\\w+)|(x-\\w+))",
			"captures": {
				"2": {
					"name": "entity.name.function"
				},
				"3":{
					"name": "markup.italic"
				},
				"4":{
					"name": "entity.name.function"
				}
			},
			"name":"aa"
		},
		"comment": {
			"begin": "(<!--)",
			"end": "(-->)",
			"name": "comment.block",
			"captures": {
				"1": {
					"name": "punctuation.definition.comment"
				},
				"2": {
					"name": "punctuation.definition.comment"
				}
			}
		}
	}
}